Installation
==================

Configure source tree:
  ./configure

Edit configuration to match your needs:
  vi src/config.h

Build:
  make

Run unit tests
  tests/test

Apache Configuration
===================

Without sudo support:
  Add something this to your vhost/httpd.conf to serve your thumbnails under http://your.domain/photo/:
    ScriptAlias "/photo" "/var/www/localhost/cgi-bin/cgiscaler"

  Copy executable src/cgiscaler to your Apache cgi-bin directory:
    cp src/cgiscaler /var/www/localhost/cgi-bin

  Prelink with libraries if prelink available:
    prelink --random --force  /var/www/localhost/cgi-bin/cgiscaler

  Reload Apache:
    /etc/init.d/apache reload

With sudo support:
  To use sudo you need to add something like this to your apache config:
    SuexecUserGroup "kazuya" "users"
  Then add:
    ScriptAlias "/photo" "/var/www/localhost/cgi-bin/scaler/cgiscaler"

  You will need to create new directory under _apache root_ directory (ex. scaler) and make it owned by sudo user and group:
    mkdir /var/www/localhost/cgi-bin/scaler
    chown kazuya:users /var/www/localhost/cgi-bin/scaler

  Copy executable src/cgiscaler to your Apache cgi-bin/scaler directory:
    cp src/cgiscaler /var/www/localhost/cgi-bin/scaler
    chown kazuya:users /var/www/localhost/cgi-bin/scaler/cgiscaler

  Prelink with libraries if prelink available:
    prelink --random --force  /var/www/localhost/cgi-bin/scaler/cgiscaler

  Reload Apache:
    /etc/init.d/apache reload

Try it!

http://your.domain/photo/some_image.jpg?w=122&h=200

For some performance test you can use:
  httperf --server scaler --num-conn 1000 --ra 200 --timeout 50 --uri=/photo/quick_gimp_pattern_test.png?w=222
